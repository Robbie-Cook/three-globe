<head>
  <style> body { margin: 0; } </style>

  <script src="https://unpkg.com/three"></script>
  <script src="https://unpkg.com/three/examples/js/controls/TrackballControls.js"></script>
  <!-- <script src="https://unpkg.com/three-globe"></script> -->
  <script src="../../dist/three-globe.js"></script>
</head>

<body>
  <div id="globeViz"></div>

  <script>
    // Gen random data
    const N = 300;
    const gData = [...Array(N).keys()].map(() => ({
      lat: (Math.random() - 0.5) * 180,
      lng: (Math.random() - 0.5) * 360,
      size: Math.random() / 3,
      color: ['red', 'white', 'blue', 'green'][Math.round(Math.random() * 3)]
    }));

    const Globe = new ThreeGlobe()
      .globeImageUrl('data:image/jpeg;base64,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')
      // .bumpImageUrl('https://unpkg.com/three-globe/example/img/earth-topology.png')
      // .pointsData(gData)
      // .pointAltitude('size')
      // .pointColor('color');

    // setTimeout(() => {
    //   gData.forEach(d => d.size = Math.random());
    //   Globe.pointsData(gData);
    // }, 4000);

    // Setup renderer
    const renderer = new THREE.WebGLRenderer({ alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.getElementById('globeViz').appendChild(renderer.domElement);

    // Setup scene
    const scene = new THREE.Scene();
    scene.add(Globe);
    scene.background = null;
    scene.add(new THREE.AmbientLight(0xffffff));
    scene.add(new THREE.DirectionalLight(0xffffff, 0.6));

    // Setup camera
    const camera = new THREE.PerspectiveCamera();
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    camera.position.z = 500;

    // Add camera controls
    const tbControls = new THREE.TrackballControls(camera, renderer.domElement);
    tbControls.minDistance = 101;
    tbControls.rotateSpeed = 5;
    tbControls.zoomSpeed = 0.8;

    // Kick-off renderer
    (function animate() { // IIFE
      // Frame cycle
      tbControls.update();
      renderer.render(scene, camera);
      requestAnimationFrame(animate);
    })();
  </script>
</body>